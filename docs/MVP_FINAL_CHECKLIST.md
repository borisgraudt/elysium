# ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç –¥–ª—è MVP –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** –°–µ–π—á–∞—Å  
**–°—Ç–∞—Ç—É—Å:** ~85% –≥–æ—Ç–æ–≤–æ

---

## ‚úÖ –ß–¢–û –£–ñ–ï –†–ê–ë–û–¢–ê–ï–¢ (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ)

### 1. –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å ‚ö°
- ‚úÖ –í—Å–µ `unwrap()` –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ proper error handling
- ‚úÖ Timeout –¥–ª—è ContentRequest (10 —Å–µ–∫—É–Ω–¥)
- ‚úÖ Graceful shutdown —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ 8 —Ç–µ—Å—Ç–æ–≤ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ CI/CD –ø—Ä–æ—Ö–æ–¥–∏—Ç (fmt, clippy, build)

### 2. UX üé®
- ‚úÖ `--gateway <port>` —Ñ–ª–∞–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è `ely publish <base> @<dir>` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ URL —Ñ–æ—Ä–º–∞—Ç `/ely/<node_id>/<path>` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Fallback –Ω–∞ `/e/<base64>` –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### 3. –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- ‚úÖ P2P —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (TCP, handshake, encryption)
- ‚úÖ Content forwarding —á–µ—Ä–µ–∑ mesh
- ‚úÖ Web Gateway (HTTP —Å–µ—Ä–≤–µ—Ä)
- ‚úÖ URL handler (OS-level)
- ‚úÖ Chrome extension
- ‚úÖ Bundle protocol
- ‚úÖ Naming system
- ‚úÖ CLI –∫–æ–º–∞–Ω–¥—ã

---

## ‚ö†Ô∏è –ß–¢–û –ù–£–ñ–ù–û –ü–†–û–í–ï–†–ò–¢–¨/–ò–°–ü–†–ê–í–ò–¢–¨

### 1. –†–µ–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–ö–†–ò–¢–ò–ß–ù–û!)

**–ù—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö:**

- [ ] **Multi-node test (3-5 —É–∑–ª–æ–≤)**
  ```bash
  # Terminal 1
  ely start 8080
  
  # Terminal 2
  ely start 8081 127.0.0.1:8080
  
  # Terminal 3
  ely start 8082 127.0.0.1:8081
  
  # Terminal 4: Publish from node 1
  ely publish site/index.html "<h1>Test</h1>"
  # –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å node_id
  
  # Terminal 5: Fetch from node 3 (—á–µ—Ä–µ–∑ node 2)
  ely fetch ely://<node1_id>/site/index.html
  # –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: <h1>Test</h1>
  ```

- [ ] **Web Gateway test**
  ```bash
  # Start node with custom gateway port
  ely start 8080 --gateway 8000
  
  # Publish content
  ely publish site/index.html "<h1>Hello</h1>"
  
  # Open in browser
  # http://localhost:8000/ely/<node_id>/site/index.html
  # –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: <h1>Hello</h1>
  ```

- [ ] **Recursive publish test**
  ```bash
  # Create test directory
  mkdir -p test_site
  echo "<h1>Index</h1>" > test_site/index.html
  echo "body { color: blue; }" > test_site/style.css
  
  # Publish recursively
  ely publish site @test_site
  
  # Check that both files are published
  ely fetch ely://<node_id>/site/index.html
  ely fetch ely://<node_id>/site/style.css
  ```

- [ ] **Chrome extension test**
  - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å extension
  - –û—Ç–∫—Ä—ã—Ç—å `ely://<node_id>/site/index.html`
  - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ URL –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### 2. –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**

- [ ] **ContentRequest forwarding**
  - –ß—Ç–æ –µ—Å–ª–∏ —É–∑–µ–ª –æ—Ç–∫–ª—é—á–∏–ª—Å—è –≤–æ –≤—Ä–µ–º—è forward?
  - –ß—Ç–æ –µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —É–∑–ª–æ–≤ –æ—Ç–≤–µ—á–∞—é—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ?
  - –ß—Ç–æ –µ—Å–ª–∏ TTL –∏—Å—Ç–µ–∫–∞–µ—Ç?

- [ ] **Connection management**
  - –ß—Ç–æ –µ—Å–ª–∏ —É–∑–µ–ª –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è fetch?
  - –ß—Ç–æ –µ—Å–ª–∏ –≤—Å–µ –ø–∏—Ä—ã –æ—Ç–∫–ª—é—á–∏–ª–∏—Å—å?
  - –ß—Ç–æ –µ—Å–ª–∏ –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç?

- [ ] **Web Gateway**
  - –ß—Ç–æ –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π (>10MB)?
  - –ß—Ç–æ –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –±–∏–Ω–∞—Ä–Ω—ã–π (–Ω–µ UTF-8)?
  - –ß—Ç–æ –µ—Å–ª–∏ node_id —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã?

- [ ] **Recursive publish**
  - –ß—Ç–æ –µ—Å–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –æ—á–µ–Ω—å –±–æ–ª—å—à–∞—è?
  - –ß—Ç–æ –µ—Å–ª–∏ –µ—Å—Ç—å —Å–∏–º–ª–∏–Ω–∫–∏?
  - –ß—Ç–æ –µ—Å–ª–∏ —Ñ–∞–π–ª—ã –±–∏–Ω–∞—Ä–Ω—ã–µ?

### 3. Edge cases

- [ ] –û—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–µ URL (>1000 —Å–∏–º–≤–æ–ª–æ–≤)
- [ ] –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –≤ –ø—É—Ç—è—Ö (–ø—Ä–æ–±–µ–ª—ã, –∫–∏—Ä–∏–ª–ª–∏—Ü–∞, —ç–º–æ–¥–∑–∏)
- [ ] –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (10+ concurrent)
- [ ] –ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã (>100MB)
- [ ] –ú–Ω–æ–≥–æ –º–µ–ª–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ (1000+ —Ñ–∞–π–ª–æ–≤)

---

## üìã –ß–¢–û –û–°–¢–ê–õ–û–°–¨ –î–õ–Ø MVP

### –ö—Ä–∏—Ç–∏—á–Ω–æ (–Ω—É–∂–Ω–æ –¥–ª—è –¥–µ–º–æ):

1. **–†–µ–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚ö†Ô∏è
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ 3-5 —É–∑–ª–∞—Ö
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç end-to-end
   - –ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –±–∞–≥–∏

2. **Demo script** üìù
   - –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
   - –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏ –≤ –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ
   - –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

3. **–ë—ã—Å—Ç—Ä–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** üìö
   - –û–±–Ω–æ–≤–∏—Ç—å README —Å –Ω–æ–≤—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
   - –ö—Ä–∞—Ç–∫–∏–π guide –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
   - FAQ (–æ—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã)

### –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ (–Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ):

4. **–í–∏–¥–µ–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è** üé¨
   - –ó–∞–ø–∏—Å–∞—Ç—å 2-3 –º–∏–Ω—É—Ç—ã
   - –ü–æ–∫–∞–∑–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

5. **Whitepaper** üìÑ
   - 2-3 —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - –ü—Ä–æ—Ç–æ–∫–æ–ª, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, use cases

---

## üß™ –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –®–∞–≥ 1: –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (5 –º–∏–Ω—É—Ç)
```bash
# Terminal 1
ely start 8080 --gateway 8000

# Terminal 2
ely start 8081 127.0.0.1:8080 --gateway 8001

# Terminal 3: Publish
ely publish site/index.html "<h1>Hello</h1>"
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å node_id

# Terminal 4: Fetch
ely fetch ely://<node_id>/site/index.html
# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: <h1>Hello</h1>
```

### –®–∞–≥ 2: Web Gateway (3 –º–∏–Ω—É—Ç—ã)
```bash
# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
http://localhost:8000/ely/<node_id>/site/index.html
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: <h1>Hello</h1>
```

### –®–∞–≥ 3: Recursive publish (5 –º–∏–Ω—É—Ç)
```bash
# –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∞–π—Ç
mkdir -p demo_site
echo "<h1>Demo</h1>" > demo_site/index.html
echo "body { background: #f0f0f0; }" > demo_site/style.css

# –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å
ely publish site @demo_site

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
ely fetch ely://<node_id>/site/index.html
ely fetch ely://<node_id>/site/style.css
```

### –®–∞–≥ 4: Multi-hop (5 –º–∏–Ω—É—Ç)
```bash
# Terminal 1: Node A
ely start 8080

# Terminal 2: Node B
ely start 8081 127.0.0.1:8080

# Terminal 3: Node C
ely start 8082 127.0.0.1:8081

# Terminal 4: Publish from A
ely publish site/test.html "<h1>From A</h1>"
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å node_id A

# Terminal 5: Fetch from C (—á–µ—Ä–µ–∑ B)
ely fetch ely://<A_node_id>/site/test.html
# –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ forwarding
```

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**

1. **ContentRequest –º–æ–∂–µ—Ç –Ω–µ –Ω–∞–π—Ç–∏ –∫–æ–Ω—Ç–µ–Ω—Ç**
   - –ï—Å–ª–∏ —É–∑–µ–ª –æ—Ç–∫–ª—é—á–∏–ª—Å—è –¥–æ –æ—Ç–≤–µ—Ç–∞
   - –ï—Å–ª–∏ TTL –∏—Å—Ç–µ–∫
   - –ï—Å–ª–∏ –ø—É—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

2. **Web Gateway –º–æ–∂–µ—Ç –Ω–µ –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç**
   - –ï—Å–ª–∏ —É–∑–µ–ª –Ω–µ –∑–∞–ø—É—â–µ–Ω
   - –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω
   - –ï—Å–ª–∏ –ø—É—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

3. **Recursive publish –º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ñ–∞–π–ª—ã**
   - –ï—Å–ª–∏ —Ñ–∞–π–ª –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
   - –ï—Å–ª–∏ –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —á—Ç–µ–Ω–∏–µ
   - –ï—Å–ª–∏ –ø—É—Ç—å —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ MVP

**–î–ª—è –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ –Ω—É–∂–Ω–æ:**

- [x] –ü—Ä–æ—Ç–æ–∫–æ–ª —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- [x] –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –±–∞–≥–æ–≤ (crashes, hangs)
- [x] –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [x] Web Gateway —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- [ ] **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ 3-5 —É–∑–ª–∞—Ö (–†–ï–ê–õ–¨–ù–û)**
- [ ] **Demo script –≥–æ—Ç–æ–≤**
- [ ] **README –æ–±–Ω–æ–≤–ª–µ–Ω**

**–û—Å—Ç–∞–ª–æ—Å—å:**
- –†–µ–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (30 –º–∏–Ω—É—Ç)
- Demo script (15 –º–∏–Ω—É—Ç)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ README (15 –º–∏–Ω—É—Ç)

**–ò—Ç–æ–≥–æ: ~1 —á–∞—Å —Ä–∞–±–æ—Ç—ã**

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å 3 —É–∑–ª–∞
ely start 8080 --gateway 8000 &
ely start 8081 127.0.0.1:8080 --gateway 8001 &
ely start 8082 127.0.0.1:8081 --gateway 8002 &

# 2. –ü—É–±–ª–∏–∫–∞—Ü–∏—è
ely publish site/index.html "<h1>Test</h1>"
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å node_id

# 3. Fetch —á–µ—Ä–µ–∑ mesh
ely fetch ely://<node_id>/site/index.html

# 4. –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# http://localhost:8000/ely/<node_id>/site/index.html
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π —Ä–µ–∞–ª—å–Ω–æ** - –∑–∞–ø—É—Å—Ç–∏ –Ω–∞ 3 —É–∑–ª–∞—Ö –∏ –ø—Ä–æ–≤–µ—Ä—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏
2. **–ò—Å–ø—Ä–∞–≤—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –±–∞–≥–∏** - –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
3. **–ü–æ–¥–≥–æ—Ç–æ–≤—å demo script** - —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏ –≤ –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ
4. **–û–±–Ω–æ–≤–∏ README** - –¥–æ–±–∞–≤—å –ø—Ä–∏–º–µ—Ä—ã –Ω–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥

**–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ MVP –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ –Ω–∞ 100%!**
