# üîó –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É–∑–ª–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞: –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π Node ID

–ï—Å–ª–∏ —É –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É–∑–ª–æ–≤ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π Node ID, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω—É –∏ —Ç—É –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ CLI –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —É–∑–ª—É.

---

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É–∑–ª–æ–≤

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ö–∞–∂–¥—ã–π —É–∑–µ–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ P2P –ø–æ—Ä—Ç–∞:
- –£–∑–µ–ª –Ω–∞ –ø–æ—Ä—Ç—É 8080 ‚Üí `.ely/node-8080/`
- –£–∑–µ–ª –Ω–∞ –ø–æ—Ä—Ç—É 8081 ‚Üí `.ely/node-8081/`

**–ó–∞–ø—É—Å–∫:**

```bash
# Terminal 1: –ü–µ—Ä–≤—ã–π —É–∑–µ–ª
ely start 8080 --gateway 8000
# P2P –ø–æ—Ä—Ç: 8080
# API –ø–æ—Ä—Ç: 17080 (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: 9000 + 8080)
# Gateway –ø–æ—Ä—Ç: 8000
# Data dir: .ely/node-8080/

# Terminal 2: –í—Ç–æ—Ä–æ–π —É–∑–µ–ª
ely start 8081 127.0.0.1:8080 --gateway 8001
# P2P –ø–æ—Ä—Ç: 8081
# API –ø–æ—Ä—Ç: 17081 (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: 9000 + 8081)
# Gateway –ø–æ—Ä—Ç: 8001
# Data dir: .ely/node-8081/
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –Ø–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

```bash
# Terminal 1
ely start 8080 --data-dir .ely/node1 --gateway 8000

# Terminal 2
ely start 8081 127.0.0.1:8080 --data-dir .ely/node2 --gateway 8001
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ: CLI –∫–æ–º–∞–Ω–¥—ã –∏ API –ø–æ—Ä—Ç—ã

–ö–æ–≥–¥–∞ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ CLI –∫–æ–º–∞–Ω–¥—ã (`ely status`, `ely publish`, –∏ —Ç.–¥.), –æ–Ω–∏ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –∫ API –ø–æ—Ä—Ç—É —É–∑–ª–∞. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Ä—Ç **17080** (–¥–ª—è —É–∑–ª–∞ –Ω–∞ P2P –ø–æ—Ä—Ç—É 8080).

**–ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —É–∑–ª–æ–≤, –≤—ã –î–û–õ–ñ–ù–´ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API –ø–æ—Ä—Ç:**

```bash
# –î–ª—è –ø–µ—Ä–≤–æ–≥–æ —É–∑–ª–∞ (P2P 8080, API 17080)
ely status                    # –ü–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ 17080
ely publish site/index.html "<h1>Hello</h1>"

# –î–ª—è –≤—Ç–æ—Ä–æ–≥–æ —É–∑–ª–∞ (P2P 8081, API 17081)
MESHLINK_API_PORT=17081 ely status                    # –ü–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ 17081
MESHLINK_API_PORT=17081 ely publish site/test.html "<h1>Test</h1>"

# –î–ª—è —Ç—Ä–µ—Ç—å–µ–≥–æ —É–∑–ª–∞ (P2P 8082, API 17082)
MESHLINK_API_PORT=17082 ely status
MESHLINK_API_PORT=17082 ely publish site/demo.html "<h1>Demo</h1>"
```

---

## üìã –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä: 3 —É–∑–ª–∞

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å —É–∑–ª—ã

```bash
# Terminal 1: –£–∑–µ–ª A (P2P 8080)
ely start 8080 --gateway 8000 -d
# Node ID –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω –≤ –ª–æ–≥–∞—Ö: .ely/node-8080.log

# Terminal 2: –£–∑–µ–ª B (P2P 8081)
ely start 8081 127.0.0.1:8080 --gateway 8001 -d
# Node ID –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω –≤ –ª–æ–≥–∞—Ö: .ely/node-8081.log

# Terminal 3: –£–∑–µ–ª C (P2P 8082)
ely start 8082 127.0.0.1:8081 --gateway 8002 -d
# Node ID –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω –≤ –ª–æ–≥–∞—Ö: .ely/node-8082.log
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞

```bash
# –£–∑–µ–ª A
MESHLINK_API_PORT=17080 ely status
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å: Node ID: <unique_id_A>, Connected: 1/3 peers

# –£–∑–µ–ª B
MESHLINK_API_PORT=17081 ely status
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å: Node ID: <unique_id_B>, Connected: 2/3 peers

# –£–∑–µ–ª C
MESHLINK_API_PORT=17082 ely status
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å: Node ID: <unique_id_C>, Connected: 2/3 peers
```

### –®–∞–≥ 3: –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

```bash
# –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –Ω–∞ —É–∑–ª–µ A
MESHLINK_API_PORT=17080 ely publish site/index.html "<h1>From Node A</h1>"
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å Node ID A –∏–∑ –≤—ã–≤–æ–¥–∞

# –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ —É–∑–ª–µ C (—á–µ—Ä–µ–∑ B)
MESHLINK_API_PORT=17082 ely fetch ely://<node_id_A>/site/index.html
# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: <h1>From Node A</h1>
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞: —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Node ID —Ä–∞–∑–Ω—ã–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Node ID –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞
MESHLINK_API_PORT=17080 ely status | grep "Node ID"
MESHLINK_API_PORT=17081 ely status | grep "Node ID"
MESHLINK_API_PORT=17082 ely status | grep "Node ID"

# –û–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –†–ê–ó–ù–´–ú–ò!
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –£–∑–ª—ã –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π Node ID

**–ü—Ä–∏—á–∏–Ω–∞:** CLI –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É API –ø–æ—Ä—Ç—É.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ MESHLINK_API_PORT –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞
MESHLINK_API_PORT=17080 ely status  # –î–ª—è —É–∑–ª–∞ –Ω–∞ P2P 8080
MESHLINK_API_PORT=17081 ely status  # –î–ª—è —É–∑–ª–∞ –Ω–∞ P2P 8081
```

### –ü—Ä–æ–±–ª–µ–º–∞: –£–∑–ª—ã –Ω–µ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –¥—Ä—É–≥ –∫ –¥—Ä—É–≥—É

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –£–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π P2P –ø–æ—Ä—Ç (–Ω–µ API –∏–ª–∏ Gateway)
2. –£–∑–ª—ã –∑–∞–ø—É—â–µ–Ω—ã –Ω–∞ —Ä–∞–∑–Ω—ã—Ö P2P –ø–æ—Ä—Ç–∞—Ö
3. Firewall –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–∞–≤–∏–ª—å–Ω–æ: —É–∫–∞–∑—ã–≤–∞–µ–º P2P –ø–æ—Ä—Ç
ely start 8081 127.0.0.1:8080  # ‚úÖ

# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: —É–∫–∞–∑—ã–≤–∞–µ–º API –∏–ª–∏ Gateway –ø–æ—Ä—Ç
ely start 8081 127.0.0.1:17080  # ‚ùå API –ø–æ—Ä—Ç
ely start 8081 127.0.0.1:8000   # ‚ùå Gateway –ø–æ—Ä—Ç
```

---

## üí° –°–æ–≤–µ—Ç—ã

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ P2P –ø–æ—Ä—Ç—ã** - –∫–∞–∂–¥—ã–π —É–∑–µ–ª –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π P2P –ø–æ—Ä—Ç
2. **–í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ MESHLINK_API_PORT** - –¥–ª—è CLI –∫–æ–º–∞–Ω–¥ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —É–∑–ª–∞–º–∏
3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏** - `.ely/node-<port>.log` —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–∂–¥–æ–º —É–∑–ª–µ
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ daemon mode** - `-d` —Ñ–ª–∞–≥ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ —Ñ–æ–Ω–µ

---

## üìä –¢–∞–±–ª–∏—Ü–∞ –ø–æ—Ä—Ç–æ–≤

| –£–∑–µ–ª | P2P –ø–æ—Ä—Ç | API –ø–æ—Ä—Ç | Gateway –ø–æ—Ä—Ç | Data Dir |
|------|----------|----------|--------------|----------|
| A    | 8080     | 17080    | 8000         | .ely/node-8080/ |
| B    | 8081     | 17081    | 8001         | .ely/node-8081/ |
| C    | 8082     | 17082    | 8002         | .ely/node-8082/ |

**–§–æ—Ä–º—É–ª–∞:**
- API –ø–æ—Ä—Ç = 9000 + P2P –ø–æ—Ä—Ç
- Gateway –ø–æ—Ä—Ç = –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —è–≤–Ω–æ –∏–ª–∏ –±—É–¥–µ—Ç API –ø–æ—Ä—Ç + 1
- Data Dir = `.ely/node-<P2P –ø–æ—Ä—Ç>/`
